<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!--<![endif]-->

<head>
  <title>APP 的三种 开发模式 | 石头记</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="石头记">
    <meta name="author" content="Steven Xue">
    <meta name="description" content="" />
    <meta name="keywords" content="技术" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="石头记" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
    
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    

    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

  
  
  

  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            <li>
                <a class="sb-toggle-submenu">Works<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                        <li><a href="/" target="_BLANK" class="animsition-link">AAA</a></li>
                    
                        <li><a href="/atom.xml" target="_BLANK" class="animsition-link">BBB</a></li>
                    
                </ul>
            </li>
            
            
            
            <li>
                <a class="sb-toggle-submenu">Links<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                    <li><a href="http://go.kieran.top/" class="animsition-link">Kieran</a></li>
                    
                    <li><a href="http://domain.com/" class="animsition-link">Name</a></li>
                    
                </ul>
            </li>
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">石头记</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            <li><a href="https://github.com/StevenXue" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a></li>
                            
                            
                            <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a></li>
                            
                            
                            <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a></li>
                            
                            
                            <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2019-09-24T10:37:05.000Z" itemprop="datePublished">
          2019-09-24
      </time>
    
    
    | 
    <a href='/tags/JavaScript/'>JavaScript</a>
    
    
</span>
                <h1>APP 的三种 开发模式</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<ul>
<li>Native</li>
<li>WebAPP</li>
<li>HybridAPP</li>
</ul>
<h2 id="Native"><a href="#Native" class="headerlink" title="Native"></a>Native</h2><p>Native APP 指的是原生程序，一般依托于操作系统，有很强的交互，是一个完整的App，可拓展性强，需要用户下载安装使用。（简单来说，原生应用是特别为某种操作系统开发的，比如iOS、Android、黑莓等等，它们是在各自的移动设备上运行的）</p>
<p>该模式通常是由“云服务器数据+APP应用客户端”两部份构成，APP应用所有的UI元素、数据内容、逻辑框架均安装在手机终端上。</p>
<p>原生应用程序是某一个移动平台（比如iOS或安卓）所特有的，使用相应平台支持的开发工具和语言（比如iOS平台支持Xcode和Objective-C，安卓平台支持Eclipse和Java）。原生应用程序看起来（外观）和运行起来（性能）是最佳的。</p>
<h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ol>
<li>原生应用。性能最好，交互体验有优势</li>
<li>可以调用移动硬件设备的底层功能（摄像头、日历和地理位置等）</li>
</ol>
<h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><ol>
<li>更新体验较差、需要用户手动更新。</li>
<li>苹果商店发布流程繁琐</li>
<li>使用不同的开发语言，所以开发、维护成本大</li>
</ol>
<h2 id="WebAPP"><a href="#WebAPP" class="headerlink" title="WebAPP"></a>WebAPP</h2><p>Web App 指采用Html5语言写出的App，不需要下载安装。类似于现在所说的轻应用。生存在浏览器中的应用，基本上可以说是触屏版的网页应用。（Web应用本质上是为移动浏览器设计的基于Web的应用，它们是用普通Web开发语言开发的，可以在各种智能手机浏览器上运行）</p>
<p>Web App开发即是一种框架型APP开发模式（HTML5 APP 框架开发模式），该开发具有跨平台的优势，该模式通常由“HTML5云网站+APP应用客户端”两部份构成，APP应用客户端只需安装应用的框架部份，而应用的数据则是每次打开APP的时候，去云端取数据呈现给手机用户。</p>
<p>HTML5应用程序使用标准的Web技术，通常是HTML5、JavaScript和CSS。这种只编写一次、可到处运行的移动开发方法构建的跨平台移动应用程序可以在多个设备上运行。虽然开发人员单单使用HTML5和JavaScript就能构建功能复杂的应用程序，但仍然存在一些重大的局限性，具体包括会话管理、安全离线存储以及访问原生设备功能（摄像头、日历和地理位置等）。</p>
<h4 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h4><ol>
<li>开发成本低，效率快</li>
<li>跨平台、升级维护简单，不受应用商店限制</li>
<li>不需要用户下载使用，有浏览器即可访问</li>
</ol>
<h4 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h4><ol>
<li>依赖网络，访问速度受限于终端网速。每次访问，消耗流量</li>
<li>性能差，用户体验较差（因为需要去远端下载资源）</li>
<li>无法调用移动硬件设备的底层功能（摄像头、日历和地理位置等）</li>
</ol>
<h2 id="HybridAPP"><a href="#HybridAPP" class="headerlink" title="HybridAPP"></a>HybridAPP</h2><p>Hybrid APP指的是半原生半Web的混合类App。需要下载安装，看上去类似Native App，但只有很少的UI Web View，访问的内容是 Web 。</p>
<p>混合应用程序让开发人员可以把HTML5应用程序嵌入到一个细薄的原生容器里面，集原生应用程序和HTML5应用程序的优点（及缺点）于一体。</p>
<p>混合应用大家都知道是原生应用和Web应用的结合体，采用了原生应用的一部分、Web应用的一部分，所以必须在部分在设备上运行、部分在Web上运行。不过混合应用中比例很自由，比如Web 占90%，原生占10%；或者各占50%。</p>
<p>有些应用最开始就是包了个原生客户端的壳，其实里面是HTML5的网页，后来才推出真正的原生应用。比较知名的APP，比如手机百度和淘宝客户端 Android版，走的也是Hybrid App的路线，不过手机百度里面封装的不是WebView，而是自己的浏览内核，所以体验上更像客户端，更高效。</p>
<h4 id="优点-2"><a href="#优点-2" class="headerlink" title="优点"></a>优点</h4><ol>
<li>开发成本较低，效率较快,性能介于 Native 与 WebAPP 之间，可与 Nactive 媲美</li>
<li>跨平台、实现多端展示同一个交互层</li>
<li>可以调用移动硬件设备的底层功能（摄像头、日历和地理位置等）</li>
</ol>
<h4 id="缺点-2"><a href="#缺点-2" class="headerlink" title="缺点"></a>缺点</h4><ol>
<li>用户需要在应用商店下载，发布流程繁琐</li>
<li>团队中需要有懂 Web、IOS 开发的技术人员，双方需要配合工作</li>
</ol>
<h4 id="（1）第一种方案：Web架构为重"><a href="#（1）第一种方案：Web架构为重" class="headerlink" title="（1）第一种方案：Web架构为重"></a>（1）第一种方案：Web架构为重</h4><p><strong>优点：</strong></p>
<ul>
<li>全Web开发，一定程度上有利于Web前端技术人员快速地构建页面样式</li>
<li>有利于在不同的平台上面展示同一个交互层</li>
<li>便于调试，开发的时候可以通过浏览器的</li>
<li>方式进行调试，工具丰富。</li>
<li>兼容多平台</li>
<li>顺利访问手机的多种功能</li>
<li>App Store中可下载（Wen应用套用原生应用的外壳）</li>
<li>可线下使用</li>
<li>页面存放于本地和服务器两种方式，部署应用程序(受限于UIwebview)</li>
</ul>
<p><strong>缺点：</strong></p>
<ul>
<li>不确定上线时间</li>
<li>虽然说你可以专注在界面以及交互开发上了，但是这页会成为一个缺点，比如说要仿造一个iOS的默认设置界面，就需要大量的html以及css代码了，而且效果不一定和iPhone上面的界面一样好</li>
<li>用户体验不如本地应用</li>
<li>性能稍慢（需要连接网络）</li>
<li>技术还不是很成熟（比如Facebook现在的应用属于混合应用它可以在许多App Store畅通无阻，但是掺杂了大量Web特性，所以它运行速度比较慢，而现在为了提高性能FB又决定采用原生应用）</li>
</ul>
<h4 id="（2）第二种方案：编译转换方式"><a href="#（2）第二种方案：编译转换方式" class="headerlink" title="（2）第二种方案：编译转换方式"></a>（2）第二种方案：编译转换方式</h4><p><strong>优点：</strong></p>
<p>利用自己熟悉的语言进行应用开发。</p>
<p><strong>缺点：</strong></p>
<p>严重依赖于其工具厂商提供的工具包，调试的时候就要有全套的工具。</p>
<h4 id="（3）第三种方案：Native架构为重（主流）"><a href="#（3）第三种方案：Native架构为重（主流）" class="headerlink" title="（3）第三种方案：Native架构为重（主流）"></a>（3）第三种方案：Native架构为重（主流）</h4><p><strong>优点：</strong></p>
<p>最稳定的Hybrid App开发方式了，交互层的效率上由Native的东西解决了，而且架构上基本就是在App内写网页，连App Store都是采用了该种方案；</p>
<p><strong>缺点：</strong></p>
<p>团队至少需要两个工程师，一个是Web的，一个是iOS或者Android的。当然如果开发人员会两种技术也可独立承担；还是运行效率，要权衡好多少界面采用Web来渲染，毕竟WebView的效率会相对降低，以前Facebook就是因为Web的渲染效率低下，把整个应用改为原生的解决方案。当然这里面可以通过优化来解决，但是优化也是有限度的。</p>
<h2 id="3种APP对比分析"><a href="#3种APP对比分析" class="headerlink" title="3种APP对比分析"></a>3种APP对比分析</h2><p>对用户来讲差别主要是用户体验，如果WebApp做得好也能接近原生App的效果；对于开发人员，WebApp更加易于移植到多个平台，减少非常多的工作量。</p>
<h4 id="1-主要区别"><a href="#1-主要区别" class="headerlink" title="1.主要区别"></a>1.主要区别</h4><p><strong>原生APP中：</strong></p>
<p>每一种移动操作系统都需要独立的开发项目；<br>每种平台都需要独立的开发语言。Java(Android), Objective-C(iOS)以及Visual C++(Windows Mobile)等等，需要使用各自的软件开发包，开发工具以及各自的控件。<br>Native App（原生型APP）需要开发“云服务器数据中心”和“APP客户端”<br>每次获取最新的APP功能，需要升级APP应用<br>原生型APP应用的安装包相对较大，包含UI元素、数据内容、逻辑框架；<br>手机用户无法上网也可访问APP应用中以前下载的数据<br>原生型的APP可以调用手机终端的硬件设备（语音、摄像头、短信、GPS、蓝牙、重力感应等）<br>APP应用更新新功能，涉及到每次要向各个应用商店进行<br>提交审核。<br>适用企业：游戏、电子杂志、管理应用、物联网等无需经常更新程序框架的APP应用。</p>
<p><strong>WebAPP中：</strong></p>
<p>因为运行在移动设备的浏览器上，所以只需要一个开发项目<br>这种应用可以使用HTML5,CSS3以及JavaScript以及服务器端语言来完成（PHP,Ruby on Rails,Python），这里可没有标准的SDK，基本任意选择别忘了有一些跨平台的开发工具，比如PhoneGap, Sencha Touch 2，APPcan以及Appcelerator Titanium等等。<br>Web APP需开发“html5云网站”和“APP客户端”<br>每次打开APP，都要通过APP框架向云网站取UI及数据<br>手机用户无法上网则无法访问APP应用中的数据<br>框架型的APP无法调用手机终端的硬件设备，（语音、摄像头、短信、GPS、蓝牙、重力感应等）<br>框架型APP的访问速度受手机终端上网的限制，每次使用均会消耗一定的手机上网流量<br>框架型APP应用的安装包小巧，只包含框架文件，而大量的UI元素、数据内容刚存放在云端<br>APP用户每次都可以访问到实时的最新的云端数据<br>APP用户无须频繁更新APP应用，与云端实现的是实时数据交互<br>适用企业：电子商务、金融、新闻资讯、企业集团，需经常更新内容的APP应用。</p>
<h4 id="2-开发难度区别"><a href="#2-开发难度区别" class="headerlink" title="2.开发难度区别"></a>2.开发难度区别</h4><p>移动web和混合App开发难度对于web开发者来说相对较低，而且可以充分利用现有的web开发工具和工作流程</p>
<h4 id="3-发布渠道和更新方式"><a href="#3-发布渠道和更新方式" class="headerlink" title="3.发布渠道和更新方式"></a>3.发布渠道和更新方式</h4><p>混合App可以在应用商店App Store发布，但可以自主更新，而原生App的更新必须通过应用商店App Store。</p>
<h4 id="4-移动设备本地API访问"><a href="#4-移动设备本地API访问" class="headerlink" title="4.移动设备本地API访问"></a>4.移动设备本地API访问</h4><p>混合App可以通过JavaScript API访问到移动设备的摄像头、GPS；而原生App可以通过原生编程语言访问设备所有功能。</p>
<h4 id="5-跨平台和可移植性"><a href="#5-跨平台和可移植性" class="headerlink" title="5.跨平台和可移植性"></a>5.跨平台和可移植性</h4><p>基于浏览器的移动web最好的可移植性和跨平台表现；混合App也能节省跨平台的时间和成本，只需编写一次核心代码就可部署到多个平台，而原生App的跨平台性能最差。</p>
<h4 id="6-搜索引擎友好"><a href="#6-搜索引擎友好" class="headerlink" title="6.搜索引擎友好"></a>6.搜索引擎友好</h4><p>只有移动web对搜索引擎友好，可与在线营销无缝整合。</p>
<h4 id="7-货币化"><a href="#7-货币化" class="headerlink" title="7.货币化"></a>7.货币化</h4><p>混合App除广告外，还支持付费下载及程序内购买；原生App的程序内购买金额2012年首次超过下载收费。</p>
<h4 id="8-消息推送"><a href="#8-消息推送" class="headerlink" title="8.消息推送"></a>8.消息推送</h4><p>只有混合App和原生App支持消息推送，这能增加用户忠诚度。</p>
<h4 id="9-获取方法区别"><a href="#9-获取方法区别" class="headerlink" title="9.获取方法区别"></a>9.获取方法区别</h4><p><strong>原生APP中：</strong><br>直接下载到设备<br>以独立的应用程序运行(并不需要浏览器)<br>用户必须手动去下载并安装这些原生App<br>有一些商店与卖场来帮助用户寻找你的App，</p>
<p><strong>WebAPP中：</strong><br>从移动设备上的浏览器访问<br>不需要安装额外的软件<br>软件更新只需要服务器就够了<br>因为现在没有什么商品或卖场提供这种App，所以如何搜索这些移动Web App相当不简单</p>
<h4 id="10-版本控制区别"><a href="#10-版本控制区别" class="headerlink" title="10.版本控制区别"></a>10.版本控制区别</h4><p><strong>原生APP中：</strong><br>用户可以自由地选择是否更新软件版本，所以会出现不同用户同时使用不同版本的情况</p>
<p><strong>WebAPP中：</strong><br>所有的用户都是用同样的版本</p>
<h4 id="Crocodile-框架中通信"><a href="#Crocodile-框架中通信" class="headerlink" title="Crocodile 框架中通信"></a>Crocodile 框架中通信</h4><ol>
<li>执行 webapck 打包 Hybrid 包时，将 vendor/bridge.js 文件打包至 crocodile.seed.js 中，在前端应用启动时，优先于其他脚本代码加载。</li>
<li>当 Native 的 webview 加载完成后，调用 H5 的<code>web_view_finished_load</code>接口获取 Nacti 端的基本信息(版本、系统参数…)</li>
</ol>
<h5 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">WebSettings webSettings = mWebView.getSettings();</span><br><span class="line"><span class="comment">//Android容器允许JS脚本</span></span><br><span class="line">webSettings.setJavaScriptEnabled(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">//Android容器设置侨连对象</span></span><br><span class="line">mWebView.addJavascriptInterface(getJSBridge(), <span class="string">"JSBridge"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Android4.2版本以上，本地方法要加上注解@JavascriptInterface，否则会找不到方法。</span></span><br><span class="line">private <span class="built_in">Object</span> getJSBridge()&<a href="https://instagram.com/explore/tags/123" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#123</a>;</span><br><span class="line">    <span class="built_in">Object</span> insertObj = <span class="keyword">new</span> <span class="built_in">Object</span>()&<a href="https://instagram.com/explore/tags/123" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#123</a>;</span><br><span class="line">    	@JavascriptInterface</span><br><span class="line">        public <span class="built_in">String</span> foo()&<a href="https://instagram.com/explore/tags/123" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#123</a>;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"foo"</span>;</span><br><span class="line">        &<a href="https://instagram.com/explore/tags/125" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#125</a>;</span><br><span class="line"></span><br><span class="line">        @JavascriptInterface</span><br><span class="line">        public <span class="built_in">String</span> foo2(final <span class="built_in">String</span> param)&<a href="https://instagram.com/explore/tags/123" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#123</a>;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"foo2:"</span> + param;</span><br><span class="line">        &<a href="https://instagram.com/explore/tags/125" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#125</a>;</span><br><span class="line"></span><br><span class="line">    &<a href="https://instagram.com/explore/tags/125" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#125</a>;;</span><br><span class="line">    <span class="keyword">return</span> insertObj;</span><br><span class="line">&<a href="https://instagram.com/explore/tags/125" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#125</a>;</span><br></pre></td></tr></table></figure>

<h5 id="JS-调用"><a href="#JS-调用" class="headerlink" title="JS 调用"></a>JS 调用</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//调用方法一</span></span><br><span class="line"><span class="built_in">window</span><a href="http://.JSBridge.foo" class="linker linker-url" target="_blank" rel="noopener noreferrer">.JSBridge.foo</a>() <span class="comment">//返回:'foo'</span></span><br><span class="line"><span class="comment">//调用方法二</span></span><br><span class="line"><span class="built_in">window</span>.JSBridge.foo2(<span class="string">'test'</span>) <span class="comment">//返回:'foo2:test'</span></span><br></pre></td></tr></table></figure>

<h5 id="4-4-版本前"><a href="#4-4-版本前" class="headerlink" title="4.4 版本前"></a>4.4 版本前</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mWebView = new WebView(this); //即当前webview对象</span></span><br><span class="line">mWebView.loadUrl(<span class="string">"javascript: 方法名('参数,需要转为字符串')"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ui线程中运行</span></span><br><span class="line"> runOnUiThread(<span class="keyword">new</span> Runnable() &<a href="https://instagram.com/explore/tags/123" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#123</a>;</span><br><span class="line">        @Override</span><br><span class="line">        public <span class="keyword">void</span> run() &<a href="https://instagram.com/explore/tags/123" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#123</a>;</span><br><span class="line">            mWebView.loadUrl(<span class="string">"javascript: 方法名('参数,需要转为字符串')"</span>);</span><br><span class="line">            Toast.makeText(Activity名.this, <span class="string">"调用方法..."</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">        &<a href="https://instagram.com/explore/tags/125" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#125</a>;</span><br><span class="line">&<a href="https://instagram.com/explore/tags/125" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#125</a>;);</span><br></pre></td></tr></table></figure>

<h5 id="4-4-版本后（包括）"><a href="#4-4-版本后（包括）" class="headerlink" title="4.4 版本后（包括）"></a>4.4 版本后（包括）</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//异步执行JS代码,并获取返回值</span></span><br><span class="line">mWebView.evaluateJavascript(<span class="string">"javascript: 方法名('参数,需要转为字符串')"</span>, <span class="keyword">new</span> ValueCallback() &<a href="https://instagram.com/explore/tags/123" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#123</a>;</span><br><span class="line">        @Override</span><br><span class="line">        public <span class="keyword">void</span> onReceiveValue(<span class="built_in">String</span> value) &<a href="https://instagram.com/explore/tags/123" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#123</a>;</span><br><span class="line">    		<span class="comment">//这里的value即为对应JS方法的返回值</span></span><br><span class="line">        &<a href="https://instagram.com/explore/tags/125" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#125</a>;</span><br><span class="line">&<a href="https://instagram.com/explore/tags/125" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#125</a>;);</span><br></pre></td></tr></table></figure>
            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="m-pagination col-md-8 col-md-offset-2 col-sm-24" role="pagination">
    
    <a class="pull-left" href="/2019/09/24/python-decorator/" style="float: left;">
        ← Python 装饰器
    </a>
    
    
    <a class="pull-right" href="/2019/08/22/你应该学点哲学的20个理由：不为拥有深奥的思想，只为更好地生活/">
        你应该学点哲学的20个理由：不为拥有深奥的思想，只为更好地生活 →
    </a>
    
</nav>

        <div class="col-md-8 col-md-offset-2 col-sm-24"><script type="text/javascript">
  /**
   * 搜狐畅言
   */

  /*
  document.write('<div id="SOHUCS" sid="' + window.location.pathname.slice(1) + '" ></div>');

  window.onload = function () {
    (function () {
      var appid = 'cytXXXX';
      var conf = 'prod_xxxxxxxxxxxxxxxxx';
      var width = window.innerWidth || document.documentElement.clientWidth;
      var loadJs = function (d, a, id) {
        var c = document.getElementsByTagName("head")[0] || document.head || document.documentElement;
        var b = document.createElement("script");
        b.setAttribute("type", "text/javascript");
        b.setAttribute("charset", "UTF-8");
        b.setAttribute("src", d);
        if (id) {
          b.setAttribute("id", id);
        }
        if (typeof a === "function") {
          if (window.attachEvent) {
            b.onreadystatechange = function () {
              var e = b.readyState;
              if (e === "loaded" || e === "complete") {
                b.onreadystatechange = null;
                a()
              }
            }
          } else {
            b.onload = a
          }
        }
        c.appendChild(b)
      };

      loadJs("<a href="https://changyan.sohu.com/upload/changyan.js" class="linker linker-url" target="_blank" rel="noopener noreferrer">https://changyan.sohu.com/upload/changyan.js</a>", function () {
        window.changyan.api.config({
          appid: appid,
          conf: conf
        })
      });
    })();
  }
  */

</script>
</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By Steven Xue. All Rights Reserved.
                </p>
                <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/StevenXue" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('<a href="https://instagram.com/explore/tags/intro" class="linker linker-hashtag" target="_blank" rel="noopener noreferrer">#intro</a>').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



      
</body>
</html>
